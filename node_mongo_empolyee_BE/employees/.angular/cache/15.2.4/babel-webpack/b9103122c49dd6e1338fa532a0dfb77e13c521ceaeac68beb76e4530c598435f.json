{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/elove/Desktop/Desktop/Church/Collage/javascript/AngularLesson1/SendMessageAttempt/node_mongo_empolyee_BE/employees/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { nodemailer } from \"nodemailer\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/forms\";\nfunction AppComponent_tbody_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tbody\", 16);\n    i0.ɵɵlistener(\"click\", function AppComponent_tbody_17_Template_tbody_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const employee_r2 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.onSelect(employee_r2));\n    });\n    i0.ɵɵelementStart(1, \"td\", 0);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\")(14, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function AppComponent_tbody_17_Template_button_click_14_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const employee_r2 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.removeEmployee(employee_r2._id));\n    });\n    i0.ɵɵtext(15, \"Delete\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const employee_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(employee_r2._id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", employee_r2.name, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(employee_r2.designation);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(employee_r2.email);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(employee_r2.phone);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(employee_r2.age);\n  }\n}\nfunction AppComponent_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"h1\");\n    i0.ɵɵtext(2, \"Edit Employee\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"form\", 3);\n    i0.ɵɵlistener(\"ngSubmit\", function AppComponent_div_18_Template_form_ngSubmit_3_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.updateEmployee(ctx_r6.selectedEmployee._id));\n    });\n    i0.ɵɵelementStart(4, \"label\", 4);\n    i0.ɵɵtext(5, \"Name:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(6, \"br\");\n    i0.ɵɵelementStart(7, \"input\", 5);\n    i0.ɵɵlistener(\"ngModelChange\", function AppComponent_div_18_Template_input_ngModelChange_7_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.selectedEmployee.name = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(8, \"br\");\n    i0.ɵɵelementStart(9, \"label\", 6);\n    i0.ɵɵtext(10, \"Designation:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(11, \"br\");\n    i0.ɵɵelementStart(12, \"input\", 7);\n    i0.ɵɵlistener(\"ngModelChange\", function AppComponent_div_18_Template_input_ngModelChange_12_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.selectedEmployee.designation = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(13, \"br\");\n    i0.ɵɵelementStart(14, \"label\", 8);\n    i0.ɵɵtext(15, \"Email:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(16, \"br\");\n    i0.ɵɵelementStart(17, \"input\", 9);\n    i0.ɵɵlistener(\"ngModelChange\", function AppComponent_div_18_Template_input_ngModelChange_17_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.selectedEmployee.email = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(18, \"br\");\n    i0.ɵɵelementStart(19, \"label\", 10);\n    i0.ɵɵtext(20, \"Phone:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(21, \"br\");\n    i0.ɵɵelementStart(22, \"input\", 11);\n    i0.ɵɵlistener(\"ngModelChange\", function AppComponent_div_18_Template_input_ngModelChange_22_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.selectedEmployee.phone = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(23, \"br\");\n    i0.ɵɵelementStart(24, \"label\", 12);\n    i0.ɵɵtext(25, \"Age:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(26, \"br\");\n    i0.ɵɵelementStart(27, \"input\", 13);\n    i0.ɵɵlistener(\"ngModelChange\", function AppComponent_div_18_Template_input_ngModelChange_27_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.selectedEmployee.age = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(28, \"br\")(29, \"br\")(30, \"input\", 18);\n    i0.ɵɵelementStart(31, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function AppComponent_div_18_Template_button_click_31_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.cancelUpdate());\n    });\n    i0.ɵɵtext(32, \"Cancel\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.selectedEmployee.name);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.selectedEmployee.designation);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.selectedEmployee.email);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.selectedEmployee.phone);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.selectedEmployee.age);\n  }\n}\nexport class AppComponent {\n  constructor(http) {\n    this.http = http;\n    this.title = 'employees';\n    this.formData = {};\n  }\n  ngOnInit() {\n    this.getEmployees();\n  }\n  removeEmployee(id) {\n    const postData = {\n      \"employeeID\": id\n    };\n    this.http.post('http://localhost:3000/api/employee/destory', postData).subscribe(res => {\n      console.log(res);\n    }, err => {\n      console.log(err);\n    });\n  }\n  addNewEmployee(formData) {\n    this.http.post('http://localhost:3000/api/employee/store', formData).subscribe(res => {\n      console.log(res);\n    }, err => {\n      console.log(err);\n    });\n  }\n  getEmployees() {\n    this.http.get('http://localhost:3000/api/employee/').subscribe(data => {\n      this.employees = Object.values(data);\n      this.employees = this.employees[0];\n    });\n  }\n  //Added for Update\n  updateEmployee(id) {\n    const putData = {\n      \"employeeID\": id,\n      \"name\": this.selectedEmployee.name,\n      \"designation\": this.selectedEmployee.designation,\n      \"email\": this.selectedEmployee.email,\n      \"phone\": this.selectedEmployee.phone,\n      \"age\": this.selectedEmployee.age\n    };\n    this.http.post('http://localhost:3000/api/employee/update', putData).subscribe(res => {\n      console.log(res);\n      this.selectedEmployee = null; // Close the edit form\n    }, err => {\n      console.log(err);\n    });\n  }\n  onSelect(employee) {\n    this.selectedEmployee = employee;\n  }\n  cancelUpdate() {\n    this.selectedEmployee = null;\n  }\n  // Assigning sendEmail function to a class method\n  sendEmail(to, subject, message) {\n    return _asyncToGenerator(function* () {\n      const transporter = nodemailer.createTransport({\n        host: \"smtp.gmail.com\",\n        port: 587,\n        secure: false,\n        auth: {\n          user: \"elovestodraw@gmail.com\",\n          pass: \"letmeingmail1\"\n        }\n      });\n      const mailOptions = {\n        from: \"elovestodraw@gmail.com\",\n        to: to,\n        subject: subject,\n        text: message\n      };\n      try {\n        const info = yield transporter.sendMail(mailOptions);\n        console.log(`Message sent: ${info.messageId}`);\n      } catch (error) {\n        console.error(`Error occurred: ${error}`);\n      }\n    })();\n  }\n}\nAppComponent.ɵfac = function AppComponent_Factory(t) {\n  return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.HttpClient));\n};\nAppComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AppComponent,\n  selectors: [[\"app-root\"]],\n  decls: 55,\n  vars: 7,\n  consts: [[1, \"hidden\"], [3, \"click\", 4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [3, \"ngSubmit\"], [\"for\", \"name\"], [\"type\", \"text\", \"id\", \"name\", \"name\", \"name\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"designation\"], [\"type\", \"text\", \"id\", \"designation\", \"name\", \"designation\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"email\"], [\"type\", \"text\", \"id\", \"email\", \"name\", \"email\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"phone\"], [\"type\", \"text\", \"id\", \"phone\", \"name\", \"phone\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"age\"], [\"type\", \"text\", \"id\", \"age\", \"name\", \"age\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", \"value\", \"Submit\"], [\"id\", \"send-email-btn\"], [3, \"click\"], [\"type\", \"button\", 3, \"click\"], [\"type\", \"submit\", \"value\", \"Save\"]],\n  template: function AppComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h1\");\n      i0.ɵɵtext(1, \"List of Employees\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"table\")(3, \"thead\")(4, \"tr\")(5, \"th\", 0);\n      i0.ɵɵtext(6, \"ID\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"th\");\n      i0.ɵɵtext(8, \"Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"th\");\n      i0.ɵɵtext(10, \"Designation\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"th\");\n      i0.ɵɵtext(12, \"Email\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"th\");\n      i0.ɵɵtext(14, \"Phone\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"th\");\n      i0.ɵɵtext(16, \"Age\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵtemplate(17, AppComponent_tbody_17_Template, 16, 6, \"tbody\", 1);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(18, AppComponent_div_18_Template, 33, 5, \"div\", 2);\n      i0.ɵɵelement(19, \"br\")(20, \"hr\")(21, \"br\");\n      i0.ɵɵelementStart(22, \"h1\");\n      i0.ɵɵtext(23, \"Add New Employee\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"form\", 3);\n      i0.ɵɵlistener(\"ngSubmit\", function AppComponent_Template_form_ngSubmit_24_listener() {\n        return ctx.addNewEmployee(ctx.formData);\n      });\n      i0.ɵɵelementStart(25, \"label\", 4);\n      i0.ɵɵtext(26, \"Name:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(27, \"br\");\n      i0.ɵɵelementStart(28, \"input\", 5);\n      i0.ɵɵlistener(\"ngModelChange\", function AppComponent_Template_input_ngModelChange_28_listener($event) {\n        return ctx.formData.name = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(29, \"br\");\n      i0.ɵɵelementStart(30, \"label\", 6);\n      i0.ɵɵtext(31, \"Designation:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(32, \"br\");\n      i0.ɵɵelementStart(33, \"input\", 7);\n      i0.ɵɵlistener(\"ngModelChange\", function AppComponent_Template_input_ngModelChange_33_listener($event) {\n        return ctx.formData.designation = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(34, \"br\");\n      i0.ɵɵelementStart(35, \"label\", 8);\n      i0.ɵɵtext(36, \"Email:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(37, \"br\");\n      i0.ɵɵelementStart(38, \"input\", 9);\n      i0.ɵɵlistener(\"ngModelChange\", function AppComponent_Template_input_ngModelChange_38_listener($event) {\n        return ctx.formData.email = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(39, \"br\");\n      i0.ɵɵelementStart(40, \"label\", 10);\n      i0.ɵɵtext(41, \"Phone:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(42, \"br\");\n      i0.ɵɵelementStart(43, \"input\", 11);\n      i0.ɵɵlistener(\"ngModelChange\", function AppComponent_Template_input_ngModelChange_43_listener($event) {\n        return ctx.formData.phone = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(44, \"br\");\n      i0.ɵɵelementStart(45, \"label\", 12);\n      i0.ɵɵtext(46, \"Age:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(47, \"br\");\n      i0.ɵɵelementStart(48, \"input\", 13);\n      i0.ɵɵlistener(\"ngModelChange\", function AppComponent_Template_input_ngModelChange_48_listener($event) {\n        return ctx.formData.age = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(49, \"br\")(50, \"br\")(51, \"input\", 14);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(52, \"button\", 15);\n      i0.ɵɵtext(53, \"Send Email\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(54, \"router-outlet\");\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(17);\n      i0.ɵɵproperty(\"ngForOf\", ctx.employees);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.selectedEmployee);\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"ngModel\", ctx.formData.name);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.formData.designation);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.formData.email);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.formData.phone);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.formData.age);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.RouterOutlet, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.NgModel, i4.NgForm],\n  styles: [\".hidden[_ngcontent-%COMP%] {\\r\\n    display: none;\\r\\n}\\r\\n\\r\\ntable[_ngcontent-%COMP%] {\\r\\n    font-family: arial, sans-serif;\\r\\n    border-collapse: collapse;\\r\\n    width: 100%;\\r\\n}\\r\\n  \\r\\ntd[_ngcontent-%COMP%], th[_ngcontent-%COMP%] {\\r\\n    border: 1px solid #464141;\\r\\n    text-align: left;\\r\\n    padding: 8px;\\r\\n}\\r\\n\\r\\ntr[_ngcontent-%COMP%]:nth-child(even) {\\r\\n    background-color: #dddddd;\\r\\n}\\r\\n\\r\\n\\r\\n.icon[_ngcontent-%COMP%] {\\r\\n    width: 32px; \\r\\n    height: 32px; \\r\\n    display: inline-block; \\r\\n    border-radius: 50%; \\r\\n    overflow: hidden; \\r\\n }\\r\\n\\r\\n.icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\r\\n    width: 100%; \\r\\n    height: auto; \\r\\n}\\r\\n\\r\\nform[_ngcontent-%COMP%] {\\r\\n    border: 1px solid #464141; \\r\\n    padding: 10px; \\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYXBwLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxhQUFhO0FBQ2pCOztBQUVBO0lBQ0ksOEJBQThCO0lBQzlCLHlCQUF5QjtJQUN6QixXQUFXO0FBQ2Y7O0FBRUE7SUFDSSx5QkFBeUI7SUFDekIsZ0JBQWdCO0lBQ2hCLFlBQVk7QUFDaEI7O0FBRUE7SUFDSSx5QkFBeUI7QUFDN0I7OztBQUdBO0lBQ0ksV0FBVyxFQUFFLG1DQUFtQztJQUNoRCxZQUFZLEVBQUUsb0NBQW9DO0lBQ2xELHFCQUFxQixFQUFFLHFEQUFxRDtJQUM1RSxrQkFBa0IsRUFBRSx5QkFBeUI7SUFDN0MsZ0JBQWdCLEVBQUUsNkRBQTZEO0NBQ2xGOztBQUVEO0lBQ0ksV0FBVyxFQUFFLHdEQUF3RDtJQUNyRSxZQUFZLEVBQUUsaUVBQWlFO0FBQ25GOztBQUVBO0lBQ0kseUJBQXlCLEVBQUUscUJBQXFCO0lBQ2hELGFBQWEsRUFBRSwyQ0FBMkM7QUFDOUQiLCJzb3VyY2VzQ29udGVudCI6WyIuaGlkZGVuIHtcclxuICAgIGRpc3BsYXk6IG5vbmU7XHJcbn1cclxuXHJcbnRhYmxlIHtcclxuICAgIGZvbnQtZmFtaWx5OiBhcmlhbCwgc2Fucy1zZXJpZjtcclxuICAgIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XHJcbiAgICB3aWR0aDogMTAwJTtcclxufVxyXG4gIFxyXG50ZCwgdGgge1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgIzQ2NDE0MTtcclxuICAgIHRleHQtYWxpZ246IGxlZnQ7XHJcbiAgICBwYWRkaW5nOiA4cHg7XHJcbn1cclxuXHJcbnRyOm50aC1jaGlsZChldmVuKSB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZGRkZGRkO1xyXG59XHJcblxyXG5cclxuLmljb24ge1xyXG4gICAgd2lkdGg6IDMycHg7IC8qIHNldCB0aGUgd2lkdGggb2YgdGhlIGNvbnRhaW5lciAqL1xyXG4gICAgaGVpZ2h0OiAzMnB4OyAvKiBzZXQgdGhlIGhlaWdodCBvZiB0aGUgY29udGFpbmVyICovXHJcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IC8qIGRpc3BsYXkgdGhlIGNvbnRhaW5lciBhcyBhbiBpbmxpbmUtYmxvY2sgZWxlbWVudCAqL1xyXG4gICAgYm9yZGVyLXJhZGl1czogNTAlOyAvKiBhZGQgYSByb3VuZGVkIGJvcmRlciAqL1xyXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjsgLyogaGlkZSBhbnkgcGFydHMgb2YgdGhlIGltYWdlIHRoYXQgZ28gYmV5b25kIHRoZSBjb250YWluZXIgKi9cclxuIH1cclxuXHJcbi5pY29uIGltZyB7XHJcbiAgICB3aWR0aDogMTAwJTsgLyogc2V0IHRoZSB3aWR0aCBvZiB0aGUgaW1hZ2UgdG8gMTAwJSBvZiB0aGUgY29udGFpbmVyICovXHJcbiAgICBoZWlnaHQ6IGF1dG87IC8qIGxldCB0aGUgaGVpZ2h0IGFkanVzdCBhdXRvbWF0aWNhbGx5IHRvIG1haW50YWluIGFzcGVjdCByYXRpbyAqL1xyXG59XHJcblxyXG5mb3JtIHtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICM0NjQxNDE7IC8qIHRoaW4gZ3JheSBib3JkZXIgKi9cclxuICAgIHBhZGRpbmc6IDEwcHg7IC8qIGFkZCBzb21lIHBhZGRpbmcgdG8gbWFrZSBpdCBsb29rIG5pY2VyICovXHJcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"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","names":["nodemailer","i0","AppComponent","constructor","http","ngOnInit","getEmployees","removeEmployee","id","postData","post","subscribe","res","console","log","err","addNewEmployee","formData","get","data","employees","Object","values","updateEmployee","putData","selectedEmployee","name","designation","email","phone","age","onSelect","employee","cancelUpdate","sendEmail","to","subject","message","transporter","createTransport","host","port","secure","auth","user","pass","mailOptions","from","text","info","sendMail","messageId","error","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\elove\\Desktop\\Desktop\\Church\\Collage\\javascript\\AngularLesson1\\SendMessageAttempt\\node_mongo_empolyee_BE\\employees\\src\\app\\app.component.ts","C:\\Users\\elove\\Desktop\\Desktop\\Church\\Collage\\javascript\\AngularLesson1\\SendMessageAttempt\\node_mongo_empolyee_BE\\employees\\src\\app\\app.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport {nodemailer} from \"nodemailer\";\n\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  title = 'employees';\n  employees: any[];\n  formData: any = {};\n  selectedEmployee: any;   //Added foe Update \n\n  constructor (private http:HttpClient) {}\n\n  ngOnInit() {\n    this.getEmployees();\n  }\n\n  removeEmployee(id: string) {\n    const postData = {\"employeeID\": id}\n    this.http.post('http://localhost:3000/api/employee/destory', postData).subscribe(res => {\n      console.log(res)\n    }, err => {\n      console.log(err)\n    })\n  }\n\n  addNewEmployee(formData) {\n    this.http.post('http://localhost:3000/api/employee/store', formData).subscribe(res => {\n      console.log(res)\n    }, err => {\n      console.log(err)\n    })\n  }\n\n  getEmployees() {\n    this.http.get('http://localhost:3000/api/employee/').subscribe(data=>{\n      this.employees = Object.values(data)\n      this.employees = this.employees[0]\n    })\n  }\n\n  //Added for Update\n  updateEmployee(id: string) {\n    const putData = {\n      \"employeeID\": id,\n      \"name\": this.selectedEmployee.name,\n      \"designation\": this.selectedEmployee.designation,\n      \"email\": this.selectedEmployee.email,\n      \"phone\": this.selectedEmployee.phone,\n      \"age\": this.selectedEmployee.age\n    }\n    this.http.post('http://localhost:3000/api/employee/update', putData).subscribe(res => {\n      console.log(res);\n      this.selectedEmployee = null; // Close the edit form\n    }, err => {\n      console.log(err)\n    });\n  }\n\n  onSelect(employee: any) {\n    this.selectedEmployee = employee;\n  }\n\n  cancelUpdate(){\n    this.selectedEmployee = null;\n  }\n\n  // Assigning sendEmail function to a class method\n  async sendEmail(to: string, subject: string, message: string) {\n    const transporter = nodemailer.createTransport({\n      host: \"smtp.gmail.com\",\n      port: 587,\n      secure: false,\n      auth: {\n        user: \"elovestodraw@gmail.com\",\n        pass: \"letmeingmail1\",\n      },\n    });\n\n    const mailOptions = {\n      from: \"elovestodraw@gmail.com\",\n      to: to,\n      subject: subject,\n      text: message,\n    };\n\n    try {\n      const info = await transporter.sendMail(mailOptions);\n      console.log(`Message sent: ${info.messageId}`);\n    } catch (error) {\n      console.error(`Error occurred: ${error}`);\n    }\n  }\n\n\n}\n","<h1>List of Employees</h1>\n<table>\n  <thead>\n    <tr>\n      <th class=\"hidden\">ID</th>\n      <th>Name</th>\n      <th>Designation</th>\n      <th>Email</th>\n      <th>Phone</th>\n      <th>Age</th>\n    </tr>\n  </thead>\n\n  <tbody (click)=\"onSelect(employee)\" *ngFor=\"let employee of employees\" >\n    <td  class=\"hidden\">{{employee._id}}</td>\n    <td> {{employee.name}}</td>\n    <td>{{employee.designation}}</td>\n    <td>{{employee.email}}</td>\n    <td>{{employee.phone}}</td>\n    <td>{{employee.age}}</td>\n    <td><button type=\"button\" (click)=\"removeEmployee(employee._id)\">Delete</button></td>\n  </tbody>\n</table>\n\n<!--If onSelect is ative-->\n<div *ngIf=\"selectedEmployee\">\n  <h1>Edit Employee</h1>\n  <form (ngSubmit)=\"updateEmployee(selectedEmployee._id)\">\n    <label for=\"name\">Name:</label><br>\n    <input type=\"text\" id=\"name\" name=\"name\" [(ngModel)]=\"selectedEmployee.name\">\n    <br>\n    <label for=\"designation\">Designation:</label>\n    <br>\n    <input type=\"text\" id=\"designation\" name=\"designation\" [(ngModel)]=\"selectedEmployee.designation\">\n    <br>\n    <label for=\"email\">Email:</label>\n    <br>\n    <input type=\"text\" id=\"email\" name=\"email\" [(ngModel)]=\"selectedEmployee.email\">\n    <br>\n    <label for=\"phone\">Phone:</label>\n    <br>\n    <input type=\"text\" id=\"phone\" name=\"phone\" [(ngModel)]=\"selectedEmployee.phone\">\n    <br>\n    <label for=\"age\">Age:</label>\n    <br>\n    <input type=\"text\" id=\"age\" name=\"age\" [(ngModel)]=\"selectedEmployee.age\">\n    <br><br>\n    <input type=\"submit\" value=\"Save\">\n    <button type=\"button\" (click)=\"cancelUpdate()\">Cancel</button>\n  </form>\n</div>\n\n<br><hr><br>\n<h1>Add New Employee</h1>\n<form (ngSubmit)=\"addNewEmployee(formData)\">\n  <label for=\"name\">Name:</label><br>\n  <input type=\"text\" id=\"name\" name=\"name\" [(ngModel)]=\"formData.name\">\n  <br>\n  <label for=\"designation\">Designation:</label>\n  <br>\n  <input type=\"text\" id=\"designation\" name=\"designation\" [(ngModel)]=\"formData.designation\">\n  <br>\n  <label for=\"email\">Email:</label>\n  <br>\n  <input type=\"text\" id=\"email\" name=\"email\" [(ngModel)]=\"formData.email\">\n  <br>\n  <label for=\"phone\">Phone:</label>\n  <br>\n  <input type=\"text\" id=\"phone\" name=\"phone\" [(ngModel)]=\"formData.phone\">\n  <br>\n  <label for=\"age\">Age:</label>\n  <br>\n  <input type=\"text\" id=\"age\" name=\"age\" [(ngModel)]=\"formData.age\">\n  <br><br>\n  <input type=\"submit\" value=\"Submit\">\n</form>\n\n<button id=\"send-email-btn\">Send Email</button>\n\n\n<router-outlet></router-outlet>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}